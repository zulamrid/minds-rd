(this["webpackJsonpminds-rd"]=this["webpackJsonpminds-rd"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(35),s=n.n(i),r=(n(98),n.p,n(62),n(8)),o=n(40),l=n(88),u=n(5),d=n(23),j=n(6),b={buttons:[],shapes:[],image:"",selected:"",image_shape:"",selected_shape:"",item:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:[].concat(Object(d.a)(e.buttons),[t.payload])});case"UPDATE_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.map((function(e,n){return e.id===t.payload.index.id?Object(j.a)(Object(j.a)({},e),t.payload.value):e}))});case"UPDATE_DETAIL":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.map((function(e,n){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.payload.key,t.payload.value)):e}))});case"DELETE_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.filter((function(e,n){return n!==t.payload})),selected:""});case"SET_IMAGE":return Object(j.a)(Object(j.a)({},e),{},{image:t.payload});case"SELECTED":return Object(j.a)(Object(j.a)({},e),{},{selected:t.payload,item:"button"});case"REMOVE_BUTTON":case"EDIT_BUTTON":return Object(j.a)({},e);case"ADD_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:[].concat(Object(d.a)(e.shapes),[t.payload])});case"UPDATE_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.map((function(e,n){return e.id===t.payload.index.id?Object(j.a)(Object(j.a)({},e),t.payload.value):e}))});case"UPDATE_DETAIL_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.map((function(e,n){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.payload.key,t.payload.value)):e}))});case"DELETE_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.filter((function(e,n){return n!==t.payload})),selected_shape:""});case"SELECTED_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{selected_shape:t.payload,item:"shape"});default:return e}},O=Object(o.b)({Main:h}),f=Object(o.c)(O,{},Object(o.a)(l.a)),p=n(11),g=n(17),x=n(215),m=n(4),y=window.innerWidth/2,v=window.innerHeight/2,E=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,i=e.onChange,s=c.a.useRef(),r=c.a.useRef();return c.a.useEffect((function(){n&&(r.current.nodes([s.current]),r.current.getLayer().batchDraw())}),[n]),Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(g.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:s},t),{},{radius:"10px",draggable:!0,onDragEnd:function(e){i(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=s.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(m.jsx)(g.d,{ref:r,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},T=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,i=e.onChange,s=c.a.useRef(),r=c.a.useRef();return c.a.useEffect((function(){n&&(r.current.nodes([s.current]),r.current.getLayer().batchDraw())}),[n]),Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(g.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:s},t),{},{draggable:!0,onDragEnd:function(e){i(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=s.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(m.jsx)(g.d,{ref:r,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})};function S(e){var t=Object(r.b)(),n=Object(r.c)((function(e){return e.Main.buttons})),a=Object(r.c)((function(e){return e.Main.shapes})),i=Object(r.c)((function(e){return e.Main.image}));c.a.useEffect((function(){}),[n,a]);var s=c.a.useState(n),o=Object(p.a)(s,2),l=(o[0],o[1],c.a.useState(null)),u=Object(p.a)(l,2),d=u[0],j=u[1],b=c.a.useState(null),h=Object(p.a)(b,2),O=h[0],f=h[1],x=function(e){e.target===e.target.getStage()&&(j(null),f(null),N())},S=function(){document.querySelector(".sidebar-right").style.right=0},N=function(){document.querySelector(".sidebar-right").style.right="-400px"};return Object(m.jsx)(g.c,{width:y,height:v,onMouseDown:x,onTouchStart:x,style:""!==i?{backgroundImage:"url(".concat(i,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}:{backgroundColor:"white"},children:Object(m.jsxs)(g.a,{children:[n.map((function(e,a){return Object(m.jsx)(E,{shapeProps:e,onClick:function(){return alert(e.label)},isSelected:e.id===d,onSelect:function(){var n;j(e.id),f(null),console.log(a),t((n=a,function(e){e({type:"SELECTED",payload:n})})),S()},onChange:function(e){var c,i,s=n.slice();t((c=s[a],i=e,function(e){var t={index:c,value:i};console.log(t),e({type:"UPDATE_BUTTON",payload:t})}))}},a)})),a.map((function(e,n){return Object(m.jsx)(T,{shapeProps:e,isSelected:e.id===O,onSelect:function(){var a;f(e.id),j(null),t((a=n,function(e){e({type:"SELECTED_SHAPE",payload:a})})),S()},onChange:function(e){var c,i,s=a.slice();console.log(s),t((c=s[n],i=e,function(e){var t={index:c,value:i};console.log(t),e({type:"UPDATE_SHAPE",payload:t})}))}},n)}))]})})}n(104);function N(){var e=Object(r.c)((function(e){return e.Main.buttons})),t=Object(r.c)((function(e){return e.Main.shapes})),n=Object(r.c)((function(e){return e.Main.image}));return Object(m.jsxs)("div",{className:"sidebar",children:[Object(m.jsxs)("pre",{style:{color:"#fff"},children:["image: ",n]}),Object(m.jsxs)("pre",{style:{color:"#fff"},children:["buttons: ",JSON.stringify(e,null,2)]}),Object(m.jsxs)("pre",{style:{color:"#fff"},children:["shapes: ",JSON.stringify(t,null,2)]})]})}n(105);var C=n(94);function w(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.Main.selected})),n=Object(r.c)((function(e){return e.Main.buttons})),a=c.a.useState(!1),i=Object(p.a)(a,2);i[0],i[1];c.a.useEffect((function(){console.log(t)}),[n]);var s=function(t,n,a,c){e(function(e){return function(t){console.log(e),t({type:"UPDATE_DETAIL",payload:e})}}({index:t,key:n,value:a,id:c}))};return Object(m.jsx)("div",{className:"sidebar-right",children:0!==n.length&&""!==t?Object(m.jsxs)("div",{className:"sidebar-right-container",children:[Object(m.jsxs)("div",{className:"position",children:[Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"x"}),Object(m.jsx)("input",{defaultValue:n[t].x,onChange:function(e){return s(t,"x",e.target.value,n[t].id)}})]}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"y"}),Object(m.jsx)("input",{type:"text",defaultValue:n[t].y,onChange:function(e){return s(t,"y",e.target.value,n[t].id)}})]})]}),Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"Height"}),Object(m.jsx)("input",{defaultValue:n[t].height,onChange:function(e){return s(t,"height",e.target.value,n[t].id)}})]}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"Width"}),Object(m.jsx)("input",{defaultValue:n[t].width,onChange:function(e){return s(t,"width",e.target.value,n[t].id)}})]})]})]}),Object(m.jsxs)("div",{className:"position",children:[Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"x"}),Object(m.jsx)("input",{defaultValue:n[t].x,onChange:function(e){return s(t,"x",e.target.value,n[t].id)}})]}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"y"}),Object(m.jsx)("input",{type:"text",defaultValue:n[t].y,onChange:function(e){return s(t,"y",e.target.value,n[t].id)}})]})]}),Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"Height"}),Object(m.jsx)("input",{defaultValue:n[t].height,onChange:function(e){return s(t,"height",e.target.value,n[t].id)}})]}),Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("label",{children:"Width"}),Object(m.jsx)("input",{defaultValue:n[t].width,onChange:function(e){return s(t,"width",e.target.value,n[t].id)}})]})]})]}),Object(m.jsx)("div",{className:"position",children:Object(m.jsx)(C.a,{onChange:function(e,a){s(t,"fill",e.hex,n[t].id)},color:n[t].fill})})]}):Object(m.jsx)(m.Fragment,{})})}var D=function(){var e=Object(r.b)(),t=c.a.useState(""),n=Object(p.a)(t,2),a=n[0],i=n[1],s=Object(r.c)((function(e){return e.Main.buttons})),o=Object(r.c)((function(e){return e.Main.selected})),l=Object(r.c)((function(e){return e.Main.selected_shape})),d=Object(r.c)((function(e){return e.Main.item}));c.a.useEffect((function(){console.log(l),console.log(o),console.log(d),console.log(s)}),[l,o,d,s]);var j=function(){var t;e((t=a,function(e){console.log(t),e({type:"SET_IMAGE",payload:t})})),i("")};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{className:"sidebar-container",children:Object(m.jsx)(N,{})}),Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(S,{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:{display:"flex",width:"100%",marginTop:20,justifyContent:"flex-end"},children:""===d?Object(m.jsx)(m.Fragment,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#0984e3"},onClick:j,children:"Clone"}),Object(m.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#d63031"},onClick:function(){e(function(e){return function(t){console.log(e),"button"===e.item?t({type:"DELETE_BUTTON",payload:e.selectedButton}):t({type:"DELETE_SHAPE",payload:e.selectedShape})}}({item:d,selectedButton:o,selectedShape:l}))},children:"Delete"})]})}),Object(m.jsxs)("div",{style:{display:"flex",width:"100%",marginTop:20},children:[Object(m.jsx)("input",{style:{padding:5,width:"80%",borderRadius:5,borderWidth:0},placeholder:"Paste image link here",value:a,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("div",{className:"button",style:{width:"15%",margin:3},onClick:j,children:"Save"})]}),Object(m.jsx)("div",{className:"button",onClick:function(){e((function(e){e({type:"ADD_BUTTON",payload:{x:10,y:10,width:180,height:80,label:"label1",fill:"#0984e3",id:Object(x.a)()}})}))},children:"Add button"}),Object(m.jsx)("div",{className:"button",onClick:function(){e((function(e){var t;e({type:"ADD_SHAPE",payload:(t={x:10,y:10,width:200,height:200,label:"shape1",fill:"#0984e3",opacity:.5,radius:10},Object(u.a)(t,"radius",70),Object(u.a)(t,"fill","red"),Object(u.a)(t,"stroke","black"),Object(u.a)(t,"strokeWidth",4),Object(u.a)(t,"shadowColor","black"),Object(u.a)(t,"shadowBlur",10),Object(u.a)(t,"shadowOffset",{x:10,y:10}),Object(u.a)(t,"shadowOpacity",.5),Object(u.a)(t,"id",Object(x.a)()),t)})}))},children:"Add Shape"}),Object(m.jsx)("div",{className:"button",children:"Add Text"}),Object(m.jsx)("div",{className:"button",children:"Add Image / Logo"})]})]}),Object(m.jsx)("div",{className:"sidebar-container",children:Object(m.jsx)(w,{})})]})};var A=function(){return Object(m.jsx)(r.a,{store:f,children:Object(m.jsx)(D,{})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),_()},62:function(e,t,n){},98:function(e,t,n){}},[[212,1,2]]]);
//# sourceMappingURL=main.5dd87395.chunk.js.map