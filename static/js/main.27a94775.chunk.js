(this["webpackJsonpminds-rd"]=this["webpackJsonpminds-rd"]||[]).push([[0],{109:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(43),i=n.n(r),o=(n(109),n.p,n(72),n(8)),s=n(51),l=n(98),u=n(6),d=n(30),j=n(5),b={buttons:[],shapes:[],image:"",selected:"",image_shape:"",selected_shape:"",item:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:[].concat(Object(d.a)(e.buttons),[t.payload])});case"UPDATE_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.map((function(e,n){return e.id===t.payload.index.id?Object(j.a)(Object(j.a)({},e),t.payload.value):e}))});case"UPDATE_DETAIL":case"UPDATE_BORDER_RADIUS":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.map((function(e,n){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.payload.key,t.payload.value)):e}))});case"DELETE_BUTTON":return Object(j.a)(Object(j.a)({},e),{},{buttons:e.buttons.filter((function(e,n){return n!==t.payload})),selected:""});case"SET_IMAGE":return Object(j.a)(Object(j.a)({},e),{},{image:t.payload});case"SELECTED":return Object(j.a)(Object(j.a)({},e),{},{selected:t.payload,item:"button"});case"REMOVE_BUTTON":case"EDIT_BUTTON":return Object(j.a)({},e);case"ADD_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:[].concat(Object(d.a)(e.shapes),[t.payload])});case"UPDATE_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.map((function(e,n){return e.id===t.payload.index.id?Object(j.a)(Object(j.a)({},e),t.payload.value):e}))});case"UPDATE_DETAIL_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.map((function(e,n){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.payload.key,t.payload.value)):e}))});case"DELETE_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{shapes:e.shapes.filter((function(e,n){return n!==t.payload})),selected_shape:""});case"SELECTED_SHAPE":return Object(j.a)(Object(j.a)({},e),{},{selected_shape:t.payload,item:"shape"});default:return e}},O=Object(s.b)({Main:h}),f=Object(s.c)(O,{},Object(s.a)(l.a)),p=n(45),g=n(10),x=n(12),m=n(13),y=n(226),v=function(e,t){return function(n){var a={index:e,value:t};console.log(a),n({type:"UPDATE_BUTTON",payload:a})}},E=function(e){return function(t){t({type:"SELECTED",payload:e})}},w=function(e,t){return function(n){var a={index:e,value:t};console.log(a),n({type:"UPDATE_SHAPE",payload:a})}},C=function(e){return function(t){t({type:"SELECTED_SHAPE",payload:e})}},T=n(2),S=window.innerWidth/2,k=window.innerHeight/2,D=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,i=c.a.useRef(),o=c.a.useRef();return c.a.useEffect((function(){n&&(o.current.nodes([i.current]),o.current.getLayer().batchDraw())}),[n]),Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(m.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:i},t),{},{radius:"10px",draggable:!0,onDragEnd:function(e){r(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=i.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(T.jsx)(m.d,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},N=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,i=c.a.useRef(),o=c.a.useRef();return c.a.useEffect((function(){n&&(o.current.nodes([i.current]),o.current.getLayer().batchDraw())}),[n]),Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(m.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:i},t),{},{draggable:!0,onDragEnd:function(e){r(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=i.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(T.jsx)(m.d,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})};function M(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.Main.buttons})),a=Object(o.c)((function(e){return e.Main.shapes})),r=Object(o.c)((function(e){return e.Main.image}));c.a.useEffect((function(){}),[n,a]);var i=c.a.useState(n),s=Object(x.a)(i,2),l=(s[0],s[1],c.a.useState(null)),u=Object(x.a)(l,2),d=u[0],j=u[1],b=c.a.useState(null),h=Object(x.a)(b,2),O=h[0],f=h[1],p=function(e){e.target===e.target.getStage()&&(j(null),f(null),y())},g=function(){document.querySelector(".sidebar-right").style.right=0},y=function(){document.querySelector(".sidebar-right").style.right="-400px"};return Object(T.jsx)(m.c,{width:S,height:k,onMouseDown:p,onTouchStart:p,style:""!==r?{backgroundImage:"url(".concat(r,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}:{backgroundColor:"white"},children:Object(T.jsxs)(m.a,{children:[n.map((function(e,a){return Object(T.jsx)(D,{shapeProps:e,onClick:function(){return alert(e.label)},isSelected:e.id===d,onSelect:function(){j(e.id),f(null),console.log(a),t(E(a)),g()},onChange:function(e){var c=n.slice();t(v(c[a],e))}},a)})),a.map((function(e,n){return Object(T.jsx)(N,{shapeProps:e,isSelected:e.id===O,onSelect:function(){f(e.id),j(null),t(C(n)),g()},onChange:function(e){var c=a.slice();console.log(c),t(w(c[n],e))}},n)}))]})})}n(115);function A(){var e=Object(o.c)((function(e){return e.Main.buttons})),t=(Object(o.c)((function(e){return e.Main.shapes})),Object(o.c)((function(e){return e.Main.image})));return Object(T.jsxs)("div",{className:"sidebar",children:[Object(T.jsxs)("pre",{style:{color:"#fff"},children:["image: ",t]}),Object(T.jsxs)("pre",{style:{color:"#fff"},children:["buttons: ",JSON.stringify(e,null,2)]})]})}n(116);var P=n(50);function R(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.Main.selected})),n=Object(o.c)((function(e){return e.Main.buttons})),a=c.a.useState(!1),r=Object(x.a)(a,2);r[0],r[1];c.a.useEffect((function(){console.log(t)}),[n]);var i=function(t,n,a,c){e(function(e){return function(t){console.log(e),t({type:"UPDATE_DETAIL",payload:e})}}({index:t,key:n,value:a,id:c}))},s=function(a,c,r,i,o){var s,l={index:a,key:c,value:r,id:i,indexborder:o,datas:n[t].cornerRadius};e((s=l,function(e){console.log(s),e({type:"UPDATE_BORDER_RADIUS",payload:{id:s.id,key:s.key,index:s.index,value:[0===s.indexborder?s.value:s.datas[0],1===s.indexborder?s.value:s.datas[1],2===s.indexborder?s.value:s.datas[2],3===s.indexborder?s.value:s.datas[3]]}})}))};return Object(T.jsx)("div",{className:"sidebar-right",children:0!==n.length&&""!==t?Object(T.jsxs)("div",{className:"sidebar-right-container",children:[Object(T.jsxs)("div",{className:"position",children:[Object(T.jsx)("h5",{children:"Positions"}),Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"x position"}),Object(T.jsx)("input",{type:"number",name:"x",value:n[t].x,onChange:function(e){return i(t,"x",parseInt(e.target.value),n[t].id)}})]}),Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"y position"}),Object(T.jsx)("input",{type:"number",name:"y",value:n[t].y,onChange:function(e){return i(t,"y",parseInt(e.target.value),n[t].id)}})]})]}),Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Height"}),Object(T.jsx)("input",{type:"number",name:"height",value:n[t].height,onChange:function(e){return i(t,"height",parseInt(e.target.value),n[t].id)}})]}),Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Width"}),Object(T.jsx)("input",{type:"number",name:"width",value:n[t].width,onChange:function(e){return i(t,"width",parseInt(e.target.value),n[t].id)}})]})]})]}),Object(T.jsxs)("div",{className:"position",children:[Object(T.jsx)("h5",{children:"Fill & Opacity"}),Object(T.jsx)("input",{id:"1",type:"range",name:"transparant",min:1,max:10,onChange:function(e){return i(t,"opacity",parseFloat(e.target.value/10),n[t].id)},defaultValue:n[t].opacity,style:{width:"100%",marginBottom:20}}),Object(T.jsx)(P.a,{onChange:function(e,a){i(t,"fill",e.hex,n[t].id)},color:n[t].fill})]}),Object(T.jsxs)("div",{className:"position",children:[Object(T.jsx)("h5",{children:"Border"}),Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Top left"}),Object(T.jsx)("input",{type:"number",name:"topleft",value:n[t].cornerRadius[0],defaultValue:0,onChange:function(e){return s(t,"cornerRadius",parseInt(e.target.value),n[t].id,0)}})]}),Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Top Right"}),Object(T.jsx)("input",{type:"number",value:n[t].cornerRadius[1],defaultValue:0,onChange:function(e){return s(t,"cornerRadius",parseInt(e.target.value),n[t].id,1)}})]})]}),Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Bottom Right"}),Object(T.jsx)("input",{type:"number",name:"x",defaultValue:0,value:n[t].cornerRadius[2],onChange:function(e){return s(t,"cornerRadius",parseInt(e.target.value),n[t].id,2)}})]}),Object(T.jsxs)("div",{className:"form",children:[Object(T.jsx)("label",{children:"Bottom Left"}),Object(T.jsx)("input",{type:"number",value:n[t].cornerRadius[3],defaultValue:0,onChange:function(e){return s(t,"cornerRadius",parseInt(e.target.value),n[t].id,3)}})]})]}),Object(T.jsx)("label",{style:{marginTop:20},children:"Border width"}),Object(T.jsx)("input",{id:"1",type:"range",name:"transparant",step:1,min:0,max:20,onChange:function(e){return i(t,"strokeWidth",parseInt(e.target.value),n[t].id)},defaultValue:n[t].stokeWidth,style:{width:"100%",marginBottom:20}}),Object(T.jsx)(P.a,{onChange:function(e,a){i(t,"stroke",e.hex,n[t].id)},color:n[t].stroke})]}),Object(T.jsxs)("div",{className:"position",children:[Object(T.jsx)("h5",{children:"Shadow"}),Object(T.jsx)("label",{children:"Shadow opacity"}),Object(T.jsx)("input",{id:"1",type:"range",name:"transparant",min:1,max:10,onChange:function(e){return i(t,"shadowOpacity",parseFloat(e.target.value/10),n[t].id)},defaultValue:n[t].shadowOpacity,style:{width:"100%",marginBottom:20}}),Object(T.jsx)("label",{children:"Shadow blur"}),Object(T.jsx)("input",{id:"1",type:"range",name:"transparant",min:1,max:50,onChange:function(e){return i(t,"shadowBlur",parseFloat(e.target.value),n[t].id)},defaultValue:n[t].shadowBlur,style:{width:"100%",marginBottom:20}}),Object(T.jsx)(P.a,{onChange:function(e,a){i(t,"shadowColor",e.hex,n[t].id)},color:n[t].fill})]})]}):Object(T.jsx)(T.Fragment,{})})}var _=function(){var e=Object(g.e)(),t=Object(o.b)(),n=c.a.useState(""),a=Object(x.a)(n,2),r=a[0],i=a[1],s=Object(o.c)((function(e){return e.Main.buttons})),l=Object(o.c)((function(e){return e.Main.selected})),u=Object(o.c)((function(e){return e.Main.selected_shape})),d=Object(o.c)((function(e){return e.Main.item}));c.a.useEffect((function(){console.log(u),console.log(l),console.log(d),console.log(s)}),[u,l,d,s]);var j=function(){var e;t((e=r,function(t){console.log(e),t({type:"SET_IMAGE",payload:e})})),i("")};return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("div",{className:"sidebar-container",children:Object(T.jsx)(A,{})}),Object(T.jsxs)("div",{className:"main",children:[Object(T.jsx)("div",{style:{display:"flex",width:"100%",marginTop:20,justifyContent:"flex-end"},children:Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#0984e3"},onClick:function(){e.push("/preview")},children:"Preview"})}),Object(T.jsx)(M,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{style:{display:"flex",width:"100%",marginTop:20,justifyContent:"flex-end"},children:""===d?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#0984e3"},onClick:function(){},children:"Move Up"}),Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#0984e3"},onClick:function(){},children:"Move Down"}),Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#0984e3"},onClick:j,children:"Clone"}),Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3,backgroundColor:"#d63031"},onClick:function(){t(function(e){return function(t){console.log(e),"button"===e.item?t({type:"DELETE_BUTTON",payload:e.selectedButton}):t({type:"DELETE_SHAPE",payload:e.selectedShape})}}({item:d,selectedButton:l,selectedShape:u}))},children:"Delete"})]})}),Object(T.jsxs)("div",{style:{display:"flex",width:"100%",marginTop:20},children:[Object(T.jsx)("input",{style:{padding:5,width:"80%",borderRadius:5,borderWidth:0},placeholder:"Paste image link here",value:r,onChange:function(e){return i(e.target.value)}}),Object(T.jsx)("div",{className:"button",style:{width:"15%",margin:3},onClick:j,children:"Save"})]}),Object(T.jsx)("div",{className:"button",onClick:function(){t((function(e){e({type:"ADD_BUTTON",payload:{id:Object(y.a)(),x:10,y:10,width:180,height:80,name:"label1",fill:"#0984e3",opacity:1,stroke:"black",strokeWidth:0,cornerRadius:[0,0,0,0],shadowColor:"black",shadowBlur:0,shadowOffset:{x:10,y:10},shadowOpacity:.5}})}))},children:"Add button"}),Object(T.jsx)("div",{className:"button",children:"Add Text"}),Object(T.jsx)("div",{className:"button",children:"Add Image / Logo"})]})]}),Object(T.jsx)("div",{className:"sidebar-container",children:Object(T.jsx)(R,{})})]})},B=window.innerWidth/2,I=window.innerHeight/2,U=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,i=c.a.useRef(),o=c.a.useRef();return c.a.useEffect((function(){n&&(o.current.nodes([i.current]),o.current.getLayer().batchDraw())}),[n]),Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(m.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:i},t),{},{radius:"10px",onDragEnd:function(e){r(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=i.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(T.jsx)(m.d,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},F=function(e){var t=e.shapeProps,n=e.isSelected,a=e.onSelect,r=e.onChange,i=c.a.useRef(),o=c.a.useRef();return c.a.useEffect((function(){n&&(o.current.nodes([i.current]),o.current.getLayer().batchDraw())}),[n]),Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(m.b,Object(j.a)(Object(j.a)({onClick:a,onTap:a,ref:i},t),{},{onDragEnd:function(e){r(Object(j.a)(Object(j.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=i.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(j.a)(Object(j.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(T.jsx)(m.d,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})};function L(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.Main.buttons})),a=Object(o.c)((function(e){return e.Main.shapes})),r=Object(o.c)((function(e){return e.Main.image}));c.a.useEffect((function(){}),[n,a]);var i=c.a.useState(n),s=Object(x.a)(i,2),l=(s[0],s[1],c.a.useState(null)),u=Object(x.a)(l,2),d=u[0],j=u[1],b=c.a.useState(null),h=Object(x.a)(b,2),O=h[0],f=h[1],p=function(e){e.target===e.target.getStage()&&(j(null),f(null))};return Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",backgroundColor:"#ddd",height:"100vh"},children:Object(T.jsx)(m.c,{width:B,height:I,onMouseDown:p,onTouchStart:p,style:""!==r?{backgroundImage:"url(".concat(r,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}:{backgroundColor:"white",height:I},children:Object(T.jsxs)(m.a,{children:[n.map((function(e,a){return Object(T.jsx)(U,{shapeProps:e,onClick:function(){return alert(e.label)},isSelected:e.id===d,onSelect:function(){j(e.id),f(null),console.log(a),t(E(a))},onChange:function(e){var c=n.slice();t(v(c[a],e))}},a)})),a.map((function(e,n){return Object(T.jsx)(F,{shapeProps:e,isSelected:e.id===O,onSelect:function(){f(e.id),j(null),t(C(n))},onChange:function(e){var c=a.slice();console.log(c),t(w(c[n],e))}},n)}))]})})})}function H(){return Object(T.jsx)(p.a,{children:Object(T.jsxs)("div",{children:[Object(T.jsx)(g.a,{exact:!0,path:"/",component:_}),Object(T.jsx)(g.a,{path:"/preview",component:L})]})})}var V=function(){return Object(T.jsx)(o.a,{store:f,children:Object(T.jsx)(H,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(V,{})}),document.getElementById("root")),X()},72:function(e,t,n){}},[[224,1,2]]]);
//# sourceMappingURL=main.27a94775.chunk.js.map